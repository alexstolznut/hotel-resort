(this.webpackJsonpresort=this.webpackJsonpresort||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/details-1.33ab9f1e.jpeg"},130:function(e,t,a){e.exports=a.p+"static/media/room-2.052c7681.jpeg"},131:function(e,t,a){e.exports=a.p+"static/media/room-3.9a1103b5.jpeg"},132:function(e,t,a){e.exports=a.p+"static/media/room-4.1e407d88.jpeg"},133:function(e,t,a){e.exports=a.p+"static/media/room-5.a5c06e0b.jpeg"},134:function(e,t,a){e.exports=a.p+"static/media/room-6.b9a34e96.jpeg"},135:function(e,t,a){e.exports=a.p+"static/media/room-7.e251c8d5.jpeg"},136:function(e,t,a){e.exports=a.p+"static/media/room-8.ebb7fca5.jpeg"},137:function(e,t,a){e.exports=a.p+"static/media/room-9.7b17c49f.jpeg"},138:function(e,t,a){e.exports=a.p+"static/media/room-10.3b5c0871.jpeg"},139:function(e,t,a){e.exports=a.p+"static/media/room-11.f08fee37.jpeg"},140:function(e,t,a){e.exports=a.p+"static/media/room-12.0e293352.jpeg"},141:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},147:function(e,t,a){e.exports=a.p+"static/media/logo.9f0cccc1.svg"},149:function(e,t,a){e.exports=a(318)},154:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(123),o=a.n(c);a(80),a(154);function l(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a||"roomsHero"},t)}function s(e){var t=e.title,a=e.subtitle,n=e.children;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,t),r.a.createElement("div",null),r.a.createElement("p",null,a),n)}l.defaultProps={hero:"defaultHero"};var i=a(14),m=a(15),u=a(16),p=a(17),d=a(22);function f(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}var E=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={services:[{icons:r.a.createElement(d.c,null),title:"Free cocktails",info:"djbjkbjkdnfjdnjdsnjsd jdnkjdnfkjdsnfkjds kjdnfdkjsnfdjksf kjdnjkdnk jkdsnfkjdsn"},{icons:r.a.createElement(d.d,null),title:"Lovely Hiking",info:"djbjkbjkdnfjdnjdsnjsd jdnkjdnfkjdsnfkjds kjdnfdkjsnfdjksf kjdnjkdnk jkdsnfkjdsn"},{icons:r.a.createElement(d.e,null),title:"Free Shuttles",info:"djbjkbjkdnfjdnjdsnjsd jdnkjdnfkjdsnfkjds kjdnfdkjsnfdjksf kjdnjkdnk jkdsnfkjdsn"},{icons:r.a.createElement(d.b,null),title:"Free cocktails",info:"djbjkbjkdnfjdnjdsnjsd jdnkjdnfkjdsnfkjds kjdnfdkjsnfdjksf kjdnjkdnk jkdsnfkjdsn"}]},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"services"},r.a.createElement(f,{title:"Services"}),r.a.createElement("div",{className:"services-center"},this.state.services.map((function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icons),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))}))))}}]),a}(n.Component),j=a(72),g=a(25),h=a(73),v=a.n(h),b=a(18),k=a(124),y=a(319).createClient({space:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_SPACE,accessToken:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_ACCESS_TOKEN}),x=r.a.createContext(),N=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:400,minPrice:0,maxPrice:0,size:1e3,minSize:0,maxSize:0,breakfast:!1,pets:!1},e.getData=Object(k.a)(v.a.mark((function t(){var a,n,r,c,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.getEntries({content_type:"hotelRooms",order:"sys.createdAt"});case 3:a=t.sent,n=e.formatData(a.items),r=n.filter((function(e){return 1==e.featured})),c=Math.max.apply(Math,Object(b.a)(n.map((function(e){return e.price})))),o=Math.max.apply(Math,Object(b.a)(n.map((function(e){return e.size})))),e.setState({rooms:n,featuredRooms:r,sortedRooms:n,loading:!1,price:c,maxPrice:c,size:o,maxSize:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getRoom=function(t){return Object(b.a)(e.state.rooms).find((function(e){return e.slug===t}))},e.handleChange=function(t){var a=t.target,n=t.target.name,r="checkbox"===a.type?a.checked:t.target.value;console.log(a.checked),e.setState(Object(g.a)({},n,r),e.sortedRooms)},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return Object(j.a)({},e.fields,{images:a,id:t})}))}},{key:"sortedRooms",value:function(){var e=this.state,t=e.price,a=e.pets,n=e.capacity,r=(e.size,e.breakfast),c=e.type,o=e.minSize,l=e.maxSize,s=Object(b.a)(this.state.rooms);n=parseInt(n),console.log(o),t=parseInt(t),o=parseInt(o),l=parseInt(l),(o="NaN")&&(o=0),s="all"!=c?s.filter((function(e){return e.type===c&&e.price<=t&&e.capacity>=n&&e.size>=o&&e.size<=l})):s.filter((function(e){return e.price<=t&&e.capacity>=n&&e.size<=l&&e.size>=o})),r&&(s=s.filter((function(e){return!0===e.breakfast}))),a&&(s=s.filter((function(e){return!0===e.pets}))),s.map((function(e){return parseInt(e.capacity)})),this.setState({sortedRooms:s})}},{key:"render",value:function(){return r.a.createElement(x.Provider,{value:Object(j.a)({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children)}}]),a}(n.Component),O=x.Consumer;var S=a(129),C=a.n(S),R=a(5),z=a.n(R),_=a(6),T=a.n(_),P=a(7),w=a.n(P),D=a(19),A=a.n(D),F=a(130),H=a.n(F),B=a(131),I=a.n(B),W=a(132),K=a.n(W),M=a(133),L=a.n(M),U=a(134),$=a.n(U),q=a(135),J=a.n(q),V=a(136),Q=a.n(V),G=a(137),X=a.n(G),Y=a(138),Z=a.n(Y),ee=a(139),te=a.n(ee),ae=a(140),ne=a.n(ae),re=(A.a,z.a,T.a,w.a,H.a,z.a,T.a,w.a,I.a,z.a,T.a,w.a,K.a,z.a,T.a,w.a,L.a,z.a,T.a,w.a,$.a,z.a,T.a,w.a,J.a,z.a,T.a,w.a,Q.a,z.a,T.a,w.a,X.a,z.a,T.a,w.a,Z.a,z.a,T.a,w.a,te.a,z.a,T.a,w.a,ne.a,z.a,T.a,w.a,C.a,z.a,T.a,w.a,a(141)),ce=a.n(re);function oe(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"Rooms Data Loading..."),r.a.createElement("img",{src:ce.a}))}var le=a(3),se=a(10),ie=a.n(se);function me(e){var t=e.id,a=e.rooms,n=a.name,c=a.images,o=a.price,l=a.slug;"../images/room-".concat(t,".jpeg");return r.a.createElement(le.b,{to:"/rooms/".concat(l),key:t,style:{textDecoration:"none",color:"#222"}},r.a.createElement("section",{key:t,className:"room"},r.a.createElement("div",Object(g.a)({className:""},"className","img-container"),r.a.createElement("span",{className:"price-top"},r.a.createElement("h6",null,"$",o),r.a.createElement("p",null,"per night")),r.a.createElement("img",{src:c[0]||A.a,style:{width:"100%",display:"block"}}),r.a.createElement("div",{className:"btn-primary room-link"},"Featured")),r.a.createElement("p",{className:"room-info"},n)))}x.PropTypes={rooms:ie.a.shape({price:ie.a.number.isRequired,name:ie.a.string.isRequired,slug:ie.a.string.isRequired,images:ie.a.arrayOf(ie.a.string).isRequired})};var ue=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.context,t=e.rooms,a=e.featuredRooms,n=(e.sortedRooms,e.loading);return t=a.map((function(e,t){return r.a.createElement(me,{key:t,id:t,rooms:e})})),r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(f,{title:"featured rooms"}),r.a.createElement("div",{className:"featured-rooms-center"},n?r.a.createElement(oe,null):t))}}]),a}(n.Component);function pe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l,{hero:"defaultHero"},r.a.createElement(s,{title:"luxious rooms",subtitle:"delux rooms starting at $299"},r.a.createElement(le.b,{to:"/rooms/"},r.a.createElement("button",{className:"btn-primary"},"Our Roooms")))),r.a.createElement(E,null),r.a.createElement(ue,null))}ue.contextType=x;var de=function(e,t){return Object(b.a)(new Set(e.map((function(e){return e[t]}))))};function fe(){var e=Object(n.useContext)(x),t=e.handleChange,a=e.type,c=e.capacity,o=e.price,l=e.minPrice,s=e.maxPrice,i=e.minSize,m=e.maxSize,u=e.breakfast,p=e.pets,d=e.rooms;console.log(de(d,"type"));de(d,"price");return console.log(function(){var e=d.map((function(e){return e.type}));return Object(b.a)(new Set(e))}()),r.a.createElement("section",{className:"filter-container"},r.a.createElement(f,{title:"search rooms"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"room type"),r.a.createElement("select",{name:"type",id:"type",value:a,className:"form-control",onChange:t},["all"].concat(Object(b.a)(de(d,"type"))).map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"guests"),r.a.createElement("select",{name:"capacity",id:"capacity",value:c,className:"form-control",onChange:t,type:"number"},Object(b.a)(de(d,"capacity")).map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"room price: $ ",o),r.a.createElement("input",{type:"range",min:l,max:s,name:"price",id:"price",value:o,className:"form-control",onChange:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"minSize"},"Room Size"),r.a.createElement("div",{className:"size-inputs"},r.a.createElement("input",{type:"number",name:"minSize",id:"minSize",value:i,min:"0",className:"size-input",onChange:t}),r.a.createElement("input",{type:"number",name:"maxSize",id:"maxSize",value:m,className:"size-input",onChange:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"pets",id:"pets",onChange:t,checked:p}),r.a.createElement("label",{htmlFor:"pets"},"pets")),r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"breakfast",id:"breakfast",onChange:t,checked:u}),r.a.createElement("label",{htmlFor:"breakfast",className:"single-extra"},"breakfast")))))}function Ee(e){var t=e.rooms;return console.log(t),r.a.createElement("section",{className:"roomslist"},0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"Unfortunately no rooms matched your seatch parameters")):r.a.createElement("div",{className:"roomslist-center"},t.map((function(e){return r.a.createElement(me,{rooms:e,key:e.id})}))))}var je,ge=(je=function(e){var t=e.context,a=t.loading,n=t.sortedRooms,c=t.rooms;return r.a.createElement("div",null,a?r.a.createElement(oe,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,{rooms:c}),r.a.createElement(Ee,{rooms:n})))},function(e){return r.a.createElement(O,null,(function(t){return r.a.createElement(je,Object.assign({},e,{context:t}))}))});function he(){return r.a.createElement("div",null,r.a.createElement(l,{hero:"roomsHero"},r.a.createElement(s,{title:"rooms"},r.a.createElement(le.b,{to:"/"},r.a.createElement("button",{className:"btn-primary"},"Return Home")))),r.a.createElement(ge,null))}var ve=a(148);var be=a(142);function ke(){var e=Object(be.a)(["\n    min-height: 60vh;\n    background: url(",") center/cover no-repeat;\n    display: flex;\n    align-items: center;\n    justify-content: center;      \n"]);return ke=function(){return e},e}var ye=a(143).a.header(ke(),(function(e){return e.img?e.img:A.a})),xe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={slug:n.props.match.params.slug,defaultBackground:{defaultBackground:A.a}},n}return Object(m.a)(a,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(console.log({room:e}),!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No such room"),r.a.createElement(le.b,{to:"/rooms",className:"btn-primary"},"Back to rooms"));var t=e.name,a=e.description,n=e.capacity,c=e.breakfast,o=e.size,l=e.price,i=e.extras,m=e.pets,u=e.images;console.log({room:e});var p=Object(ve.a)(u),d=p[0],f=p.slice(1);return r.a.createElement("div",null,r.a.createElement(ye,{img:d||this.state.defaultBackground},r.a.createElement(s,{title:"".concat(t," room")},r.a.createElement(le.b,{to:"/rooms/"},r.a.createElement("button",{className:"btn-primary"},"Back to rooms")))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},f.map((function(e,a){return r.a.createElement("img",{src:e,alt:t,key:a})}))),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"details"),r.a.createElement("p",null,a)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"Info"),r.a.createElement("h6",null,"price : $",l),r.a.createElement("h6",null,"size : ",o," SQFT"),r.a.createElement("h6",null,"Max Capacity : ","".concat(n,n>1?" people":" person")),r.a.createElement("h6",null,"pets : ",m?"pets allowed":"pets not allowed"," "),r.a.createElement("h6",null,"Breakfast : ",c?"free breakfast":"not included"," ")))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"Extras"),r.a.createElement("ul",{className:"extras"},i.map((function(e,t){return r.a.createElement("li",{key:t},"- ",e)})))))}}]),a}(n.Component);function Ne(){return r.a.createElement(l,null,r.a.createElement(s,{title:"404",subtitle:"The page you're searching for doesn't exist"},r.a.createElement(le.b,{to:"/"},r.a.createElement("button",{className:"btn-primary"},"Return Home"))))}xe.contextType=x;var Oe=a(147),Se=a.n(Oe),Ce=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.handleToggle=function(){console.log(e.state.isOpen),e.setState({isOpen:!e.state.isOpen})},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(le.b,{to:"/"},r.a.createElement("img",{src:Se.a,alt:"Beach resort"})," ",r.a.createElement("p",null,this.state.isOpen)),r.a.createElement("button",{className:"nav-btn",onClick:this.handleToggle},r.a.createElement(d.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(le.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(le.b,{to:"/Rooms"},"Rooms")))))}}]),a}(n.Component),Re=a(2);var ze=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,null),r.a.createElement(Re.c,null,r.a.createElement(Re.a,{exact:!0,path:"/",component:pe}),r.a.createElement(Re.a,{exact:!0,path:"/rooms",component:he}),r.a.createElement(Re.a,{exact:!0,path:"/rooms/:slug",component:xe}),r.a.createElement(Re.a,{component:Ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null,r.a.createElement(le.a,null,r.a.createElement(ze,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports=a.p+"static/media/details-2.50c23e62.jpeg"},6:function(e,t,a){e.exports=a.p+"static/media/details-3.7345b9f6.jpeg"},7:function(e,t,a){e.exports=a.p+"static/media/details-4.7569a316.jpeg"},74:function(e,t){},80:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.76e4532f.chunk.js.map